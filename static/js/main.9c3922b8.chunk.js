(this["webpackJsonpcards-game"]=this["webpackJsonpcards-game"]||[]).push([[0],{101:function(e,t,c){e.exports={ldsCircle:"Loader_ldsCircle__jDpB7"}},116:function(e,t,c){},117:function(e,t,c){},144:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(19),s=c.n(r),o=(c(116),c(117),c(49)),i=c.n(o),d=c(15),l=c(11),u=c(1),j=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"404"}),Object(u.jsx)("div",{children:"Page not found!"}),Object(u.jsx)("div",{children:"\u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"})]})},b=c(3),O=c(30),p=c.n(O),h=c(47),f=c(72),m=c.n(f),x=function(e){var t=e.red,c=e.className,a=Object(h.a)(e,["red","className"]),n="".concat(t?m.a.red:m.a.default," ").concat(c);return Object(u.jsx)("button",Object(b.a)({className:n},a))},g=c(73),C=c.n(g),v=function(e){e.type;var t=e.onChange,c=e.onChangeChecked,a=e.className,n=(e.spanClassName,e.children),r=Object(h.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(C.a.checkbox," ").concat(a||"");return Object(u.jsxs)("label",{children:[Object(u.jsx)("input",Object(b.a)({type:"checkbox",onChange:function(e){t&&t(e),c&&c(e.currentTarget.checked)},className:s},r)),n&&Object(u.jsx)("span",{className:C.a.spanClassName,children:n})]})},k=c(66),_=c.n(k),w=function(e){e.type;var t=e.onChange,c=e.onChangeText,a=e.onKeyPress,n=e.onEnter,r=e.error,s=e.className,o=e.spanClassName,i=Object(h.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),d="".concat(_.a.error," ").concat(o||""),l="".concat(_.a.superInput," ").concat(r?_.a.errorInput:""," ").concat(s);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",Object(b.a)({type:"text",onChange:function(e){t&&t(e),c&&c(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),n&&"Enter"===e.key&&n()},className:l},i)),r&&Object(u.jsx)("span",{className:d,children:r})]})},P=c(5),S=c(90),N=c.n(S).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),y=function(e,t,c){return N.post("auth/login",{email:e,password:t,rememberMe:c})},E=function(){return N.delete("auth/me")},T=function(){return N.post("auth/me")},A=function(e,t){return N.post("/auth/register",{email:e,password:t})},I=function(e,t){return N.post("/auth/forgot",{email:e,message:t})},D=function(e,t){return N.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},R=function(e,t,c,a,n,r,s){return N.get("/cards/pack?pageCount=".concat(e,"&sortPacks=").concat(s,"&packName=").concat(c,"&page=").concat(t,"&min=").concat(a,"&max=").concat(n,"&user_id=").concat(r))},L=function(e){return N.post("/cards/pack",{cardsPack:e})},M=function(e){return N.delete("/cards/pack?id=".concat(e))},U=function(e,t){return N.put("/cards/pack",{cardsPack:{_id:e,name:t}})},q=function(e,t,c,a){return N.get("/cards/card",{params:{cardsPack_id:e,pageCount:c,page:t,sortCards:a}})},F=function(e){return N.post("/cards/card",{card:e})},G=function(e){return N.delete("/cards/card?id=".concat(e))},K=function(e){return N.put("cards/card",{card:{_id:e._id,question:e.question,answer:e.answer}})},B=function(e,t){return N.put("/cards/grade",{grade:t,card_id:e})},V={status:"idle",isInitialized:!1},H=function(e){return{type:"APP/SET-STATUS",status:e}},z=function(e){return{type:"APP/SET-IS-INITIALIZED",isInitialized:e}},Z={userData:{avatar:"",created:"",email:"",isAdmin:!1,name:"",publicCardPacksCount:0,rememberMe:!1,token:"",tokenDeathTime:0,updated:"",verified:!1,__v:0,_id:""}||null,isLoggedIn:!1,authError:""},W=function(e,t){return{type:"login/SET-IS-LOGGED-IN",value:e,userData:t}},J=function(e){try{E().then((function(){e({type:"login/SET-IS-LOGGED-OUT",value:!1})}))}catch(t){}},X=c(38),Y=c(74),$=c.n(Y),Q=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.auth.isLoggedIn})),c=Object(P.c)((function(e){return e.auth.authError})),a=Object(X.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password||(t.password="Password is required"),t},onSubmit:function(t){e(function(e){return function(t){t(H("loading")),y(e.email,e.password,e.rememberMe).then((function(e){t(W(!0,e.data)),t(H("succeeded"))})).catch((function(e){var c=e.response?e.response.data.error:e.message;t({type:"login/SET-AUTH-ERROR",errorMessage:c}),t(H("failed"))}))}}(t)),a.resetForm()}});return t?Object(u.jsx)(l.a,{to:"/profile"}):Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h2",{children:" Login "}),Object(u.jsxs)("form",{onSubmit:a.handleSubmit,className:p.a.form,children:[Object(u.jsx)(w,Object(b.a)({type:"email",placeholder:"E-mail",error:a.touched.email?a.errors.email:null},a.getFieldProps("email"))),Object(u.jsx)(w,Object(b.a)({type:"password",placeholder:"Password",error:a.touched.password?a.errors.password:null},a.getFieldProps("password"))),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{children:[Object(u.jsx)(v,Object(b.a)({},a.getFieldProps("rememberMe"))),"Remember me"]}),Object(u.jsx)("div",{className:$.a.authError,children:c}),Object(u.jsx)(x,{type:"submit",children:"Login"})]}),Object(u.jsx)(d.b,{to:"/forgot-password",children:"Forgot Password"})," ",Object(u.jsx)("br",{}),Object(u.jsx)(d.b,{to:"/register",children:"Sign Up"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:$.a.free,children:["To log in for test use ",Object(u.jsx)("br",{}),"common test account credentials: ",Object(u.jsx)("br",{}),"Email: ",Object(u.jsx)("span",{style:{color:"black"},children:"eto4ka@gmail.com"})," ",Object(u.jsx)("br",{}),"Password: ",Object(u.jsx)("span",{style:{color:"black"},children:"1234qwerty"})]})]})},ee=c.p+"static/media/cloud.01bc04ad.png",te=c(77),ce=c.n(te),ae=function(){var e=Object(P.c)((function(e){return e.auth.isLoggedIn})),t=Object(P.c)((function(e){var t;return null===(t=e.auth.userData)||void 0===t?void 0:t.name})),c=Object(P.c)((function(e){var t;return null===(t=e.auth.userData)||void 0===t?void 0:t.publicCardPacksCount})),a=null!==t&&void 0!==t?t:"Stranger";return e?Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:ce.a.hello,children:[Object(u.jsxs)("h2",{children:["Hello, ",a,"!"]}),Object(u.jsxs)("h3",{children:["You have ",c," packs"]}),Object(u.jsx)("div",{className:ce.a.cloud,children:Object(u.jsx)("img",{src:ee,alt:"Cloud"})})]})}):Object(u.jsx)(Q,{})},ne={isRegistered:!1},re=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.register.isRegistered})),c=Object(X.a)({initialValues:{email:"",password:"",confirmedPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address."):t.email="Email is required",e.password?e.password.length<8&&(t.password="Password must be at least 8 symbols"):t.password="Password is required",e.password&&!e.confirmedPassword?t.confirmedPassword="Confirm your password":e.password!==e.confirmedPassword&&(t.confirmedPassword="You entered two different passwords."),t},onSubmit:function(t){t.password===t.confirmedPassword&&(e(function(e){return function(t){t(H("loading")),A(e.email,e.password).then((function(){t({type:"register/SET-SIGN-UP",isRegistered:!0}),t(H("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))}}(t)),c.resetForm())}});return t?Object(u.jsx)(l.a,{to:"./login"}):Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Sign In"}),Object(u.jsxs)("form",{onSubmit:c.handleSubmit,className:p.a.form,children:[Object(u.jsx)(w,Object(b.a)({type:"email",placeholder:"Email",error:c.touched.email?c.errors.email:null},c.getFieldProps("email"))),Object(u.jsx)(w,Object(b.a)({type:"password",placeholder:"Password",error:c.touched.password?c.errors.password:null},c.getFieldProps("password"))),Object(u.jsx)(w,Object(b.a)({type:"password",placeholder:"Confirm your password",error:c.touched.confirmedPassword?c.errors.confirmedPassword:null},c.getFieldProps("confirmedPassword"))),Object(u.jsxs)("div",{children:[Object(u.jsx)(d.b,{to:"/login",children:Object(u.jsx)(x,{children:" Cancel "})}),Object(u.jsx)(x,{type:"submit",children:" Register "})]})]})]})},se={isNewPassword:!1},oe=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.setNewPassword.isNewPassword})),c=Object(l.g)().token,a=Object(X.a)({initialValues:{password:"",confirmPassword:""},validate:function(e){var t={};return e.password?e.password.length<8&&(t.password="Password must be at least 8 symbols"):t.password="Password is required",e.password&&!e.confirmPassword?t.confirmPassword="Confirm your password":e.password!==e.confirmPassword&&(t.confirmPassword="You entered two different passwords."),t},onSubmit:function(t){var n,r;t.password===t.confirmPassword&&(e((n=t.confirmPassword,r=c,function(e){e(H("loading")),D(n,r).then((function(){e({type:"setNewPassword/SET-NEW-PASSWORD"}),e(H("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))})),a.resetForm())}});return t?Object(u.jsx)(l.a,{to:"/login"}):Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Set new password"}),Object(u.jsxs)("form",{onSubmit:a.handleSubmit,className:p.a.form,children:[Object(u.jsx)(w,Object(b.a)({type:"password",placeholder:"New password",error:a.touched.password?a.errors.password:null},a.getFieldProps("password"))),Object(u.jsx)(w,Object(b.a)({type:"password",placeholder:"Confirm your new password",error:a.touched.confirmPassword?a.errors.confirmPassword:null},a.getFieldProps("confirmPassword"))),Object(u.jsx)(x,{type:"submit",children:"Set new password"})]})]})})},ie={recoveredPassword:!1},de=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.forgotPassword.recoveredPassword})),c=Object(X.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?e.email.length<11&&(t.email="Email should be more 10 symbols"):t.email="Email is required",t},onSubmit:function(t){e(function(e,t){return function(c){c(H("loading")),I(e,t).then((function(){c({type:"recoverPassword/CHANGE-PASSWORD"}),c(H("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))}}(t.email,"<div style=\"background-color: lime; padding: 15px\">\n            password recovery link:\t<a href='https://Peleka.github.io/cards-game/#/new-password/$token$'>link</a>\n            </div>"))}});return Object(u.jsxs)("div",{className:p.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Forgot your password?"}),t?Object(u.jsx)(le,{email:c.values.email}):Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:c.handleSubmit,children:[Object(u.jsx)(w,Object(b.a)({type:"email",placeholder:"Email"},c.getFieldProps("email"))),Object(u.jsx)(x,{type:"submit",children:"Send instructions"})]})})]})},le=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"Check your Email"}),Object(u.jsxs)("span",{children:["click the link in the message in your email ",e.email]})]})},ue=c(10),je=c(169),be={cardPacks:null,maxCardsCount:6,minCardsCount:0,pageCount:8,packId:"",name:"",totalPacksCount:0,pageSize:10,currentPage:1,userId:"",sortPacks:"0updated"},Oe=function(e){return{type:"PACKS/SET-USER-ID",userId:e}},pe=function(e){return{type:"PACKS/SET-NAME",name:e}},he=function(e){return{type:"PACKS/SET-SORT",sortValue:e}},fe=function(){return function(e,t){e(H("loading"));var c=t(),a=c.packs.currentPage,n=c.packs.name,r=c.packs.minCardsCount,s=c.packs.maxCardsCount,o=c.packs.userId,i=c.packs.pageCount,d=c.packs.sortPacks;R(i,a,n,r,s,o,d).then((function(t){e({type:"SET-TOTAL-PACKS-COUNT",totalPacks:t.data.cardPacksTotalCount}),e({type:"PACKS/SET-PACKS",data:t.data.cardPacks}),e(H("succeeded"))})).catch((function(){e(H("failed")),console.log("get packs error")}))}},me=c(31),xe=c.n(me),ge=c(99),Ce=c.n(ge),ve=c(60),ke=c.n(ve),_e=c(67),we=c(27),Pe=c.n(we),Se=function(e){var t,c=Object(a.useState)(null!==(t=e.titlePack)&&void 0!==t?t:""),n=Object(ue.a)(c,2),r=n[0],s=n[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:Pe.a.wrapperModal,children:Object(u.jsxs)("div",{className:Pe.a.modal,children:[Object(u.jsx)("h3",{children:"Enter new pack name"}),Object(u.jsxs)("form",{children:[Object(u.jsx)(w,{type:"text",placeholder:e.placeholder,value:r,onChange:function(e){s(e.currentTarget.value)}}),Object(u.jsxs)("div",{className:Pe.a.buttonBlock,children:[Object(u.jsx)(x,{type:"submit",onClick:function(){e.addNewPack(r),e.closeAddEditPackModal()},children:"Ok"}),Object(u.jsx)(x,{onClick:function(){e.closeAddEditPackModal()},children:"Cancel"})]})]})]})})})},Ne=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:Pe.a.wrapperModal,children:Object(u.jsxs)("div",{className:Pe.a.modal,children:[Object(u.jsx)("h3",{style:{color:"darkred"},children:e.title}),Object(u.jsx)("form",{children:Object(u.jsxs)("div",{className:Pe.a.buttonBlock,children:[Object(u.jsx)(x,{type:"submit",onClick:function(){e.deleteItem(),e.closeDeleteModal()},children:"Ok"}),Object(u.jsx)(x,{onClick:function(){e.closeDeleteModal()},children:"Cancel"})]})})]})})})},ye=c(98),Ee=c.n(ye),Te=c(21),Ae=c(168),Ie=Object(Te.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:13}}}))(Ae.a),De=n.a.memo((function(e){var t=new Date(e.updated).toLocaleDateString(["ban","id"]),c=Object(a.useState)(!1),n=Object(ue.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(ue.a)(o,2),l=i[0],j=i[1];return Object(u.jsxs)("div",{className:xe.a.packItem,children:[Object(u.jsx)("div",{className:xe.a.packSpecification,children:e.user_name}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:e.name}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:e.cardsCount}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:t}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:Object(u.jsx)(d.b,{to:"/cards/".concat(e._id),className:xe.a.cardsLink,children:"cards"})}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:Object(u.jsx)(d.b,{to:"/learn/".concat(e._id),children:Object(u.jsx)(Ie,{title:"Learn",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Ee.a,{})})})})}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)(Ie,{title:"Edit pack",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(ke.a,{onClick:function(){s(!0)},style:{color:_e.a[500]}})})}):""}),Object(u.jsx)("div",{className:xe.a.packSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)(Ie,{title:"Delete pack",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Ce.a,{onClick:function(){j(!0)},color:"secondary"})})}):""}),r&&Object(u.jsx)(Se,{closeAddEditPackModal:function(){s(!1)},addNewPack:function(t){e.updatePack(e._id,t)},titlePack:e.name}),l&&Object(u.jsx)(Ne,{closeDeleteModal:function(){j(!1)},deleteItem:function(){e.delPack(e._id)},title:"Are you sure you want to delete pack '".concat(e.name,"'?")})]})})),Re=c(29),Le=c.n(Re),Me=c(170),Ue=c(62),qe=c.n(Ue),Fe=c(61),Ge=c.n(Fe),Ke=c(100),Be=c.n(Ke),Ve=n.a.memo((function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.packs})),c=t.cardPacks,n=t.totalPacksCount,r=t.pageSize,s=t.currentPage,o=t.minCardsCount,i=t.maxCardsCount,d=t.sortPacks,l=t.userId,j=Object(P.c)((function(e){return e.auth.isLoggedIn})),O=Object(P.c)((function(e){return e.auth.userData._id})),p=Object(a.useState)(""),h=Object(ue.a)(p,2),f=h[0],m=h[1];Object(a.useEffect)((function(){e(fe())}),[e,o,i]);for(var g=Object(a.useState)(!1),C=Object(ue.a)(g,2),v=C[0],k=C[1],_=Object(a.useCallback)((function(t){e(function(e){return function(t){t(H("loading")),M(e).then((function(){t(H("succeeded")),t(fe()),console.log("pack deleted successfully")})).catch((function(){t(H("failed")),console.log("delete pack error")}))}}(t))}),[e]),S=Object(a.useCallback)((function(t,c){e(function(e,t){return function(c){c(H("loading")),U(e,t).then((function(){c(fe()),console.log("pack updated successfully"),c(H("succeeded"))})).catch((function(){c(H("failed")),console.log("update pack error")}))}}(t,c))}),[e]),N="1updated"===d?Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Ge.a,{onClick:function(){e(he("0updated")),e(fe())},color:"primary"})}):Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(qe.a,{onClick:function(){e(he("1updated")),e(fe())},color:"primary"})}),y=Object(a.useState)(l===O),E=Object(ue.a)(y,2),T=E[0],A=E[1],I=T?"".concat(Le.a.activeButton):"",D=T?"":"".concat(Le.a.activeButton),R=function(){e(pe(f)),e(fe()),m(""),e(pe(""))},q=[],F=Math.ceil(n/r),G=1;G<=F;G++)q.push(G);var K=c&&c.map((function(e,t){return Object(u.jsx)(De,Object(b.a)(Object(b.a)({},e),{},{delPack:_,updatePack:S,currentUserId:O}),t)}));return j?(console.log("Packs render"),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:Le.a.title,children:Object(u.jsx)("h1",{children:"Packs"})}),Object(u.jsxs)("div",{className:Le.a.packsContainer,children:[Object(u.jsxs)("div",{className:Le.a.packsField,children:[Object(u.jsxs)("div",{className:Le.a.packContents,children:[Object(u.jsx)("div",{children:"username"}),Object(u.jsx)("div",{children:"name"}),Object(u.jsx)("div",{children:"count"}),Object(u.jsx)("div",{children:N}),Object(u.jsx)("div",{children:"update"}),Object(u.jsx)("div",{children:Object(u.jsx)(x,{onClick:function(){k(!0)},children:"add"})})]}),Object(u.jsx)("div",{children:K})]}),v&&Object(u.jsx)(Se,{closeAddEditPackModal:function(){k(!1)},addNewPack:function(t){var c;e((c={name:t},function(e){e(H("loading")),L(c).then((function(){e(fe()),console.log("pack added successfully"),e(H("succeeded"))})).catch((function(){e(H("failed")),console.log("add pack error")}))}))},placeholder:"new pack name"}),Object(u.jsxs)("div",{className:Le.a.sidebar,children:[Object(u.jsxs)("div",{className:Le.a.showMyAllPacks,children:[Object(u.jsxs)("span",{className:I,children:[Object(u.jsx)(x,{onClick:function(){e(Oe(O)),e(fe()),A(!0)},children:" my packs "})," "]}),Object(u.jsxs)("span",{className:D,children:[Object(u.jsx)(x,{onClick:function(){e(Oe("")),e(fe()),A(!1)},children:" all packs "})," "]})]}),Object(u.jsx)("div",{className:Le.a.filterByCardsCount,children:Object(u.jsx)(Me.a,{style:{margin:"0",padding:"0"},value:[o,i],onChangeCommitted:function(t,c){c instanceof Array&&(e(function(e){return{type:"PACKS/SET-MIN-CARDS_COUNT",minCardsCount:e}}(c[0])),e(function(e){return{type:"PACKS/SET-MAX-CARDS_COUNT",maxCardsCount:e}}(c[1])))},valueLabelDisplay:"auto","aria-labelledby":"range-slider",name:"cards count",min:0,max:20})}),Object(u.jsxs)("div",{className:Le.a.search,children:[Object(u.jsx)(w,{onChangeText:function(e){return m(e)},onEnter:R,placeholder:"search packs",value:f}),Object(u.jsx)(Be.a,{onClick:R})]})]})]}),Object(u.jsx)("div",{className:Le.a.paginator,children:Object(u.jsx)(je.a,{count:F,boundaryCount:1,defaultPage:1,page:s,onChange:function(t,c){return function(t){e({type:"SET-CURRENT-PAGE",pageNumber:t}),e(fe())}(c)}})})]})):Object(u.jsx)(Q,{})})),He=c(79),ze=c.n(He),Ze=c(39),We=c.n(Ze),Je=c(165),Xe=function(e){var t,c,n=Object(a.useState)(null!==(t=e.questionValue)&&void 0!==t?t:""),r=Object(ue.a)(n,2),s=r[0],o=r[1],i=Object(a.useState)(null!==(c=e.answerValue)&&void 0!==c?c:""),d=Object(ue.a)(i,2),l=d[0],j=d[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:Pe.a.wrapperModal,children:Object(u.jsxs)("div",{className:Pe.a.modal,children:[Object(u.jsx)("h3",{children:e.title}),Object(u.jsxs)("form",{children:[Object(u.jsx)(w,{type:"text",placeholder:e.questionPlaceholder,value:s,onChange:function(e){o(e.currentTarget.value)}}),Object(u.jsx)(w,{type:"text",placeholder:e.answerPlaceholder,value:l,onChange:function(e){j(e.currentTarget.value)}}),Object(u.jsxs)("div",{className:Pe.a.buttonBlock,children:[Object(u.jsx)(x,{type:"submit",onClick:function(){e.addNewCard(s,l),e.closeAddEditCardModal()},children:"Ok"}),Object(u.jsx)(x,{onClick:function(){e.closeAddEditCardModal()},children:"Cancel"})]})]})]})})})},Ye=function(e){var t=new Date(e.updated).toLocaleDateString(["ban","id"]),c=Object(a.useState)(!1),n=Object(ue.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(ue.a)(o,2),d=i[0],l=i[1];return Object(u.jsxs)("div",{className:We.a.cardItem,children:[Object(u.jsx)("div",{className:We.a.cardSpecification,children:e.question}),Object(u.jsx)("div",{className:We.a.cardSpecification,children:e.answer}),Object(u.jsx)("div",{className:We.a.cardSpecification,children:e.grade}),Object(u.jsx)("div",{className:We.a.cardSpecification,children:t}),Object(u.jsx)("div",{className:We.a.cardSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)(Ie,{title:"Edit card",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(ke.a,{onClick:function(){s(!0)},style:{color:_e.a[500]}})})}):""}),Object(u.jsx)("div",{className:We.a.cardSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)(Ie,{title:"Delete card",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Je.a,{onClick:function(){l(!0)},color:"secondary"})})}):""}),r&&Object(u.jsx)(Xe,{addNewCard:function(t,c){return e.updateCard({_id:e._id,question:t,answer:c})},closeAddEditCardModal:function(){s(!1)},title:"Edit your card",questionValue:e.question,answerValue:e.answer}),d&&Object(u.jsx)(Ne,{closeDeleteModal:function(){l(!1)},deleteItem:function(){return e._id&&e.delCard(e._id,e.packId)},title:"Are you sure you want to delete card '".concat(e.question,"'?")})]})},$e={cards:[],packUserId:"",page:1,pageCount:5,cardsTotalCount:0,minGrade:0,maxGrade:6,sortCards:"0grade"},Qe=function(e){return{type:"CARDS/SET-SORT",sortValue:e}},et=function(e){return{type:"CARDS/SET-PAGE-COUNT",pageCount:e}},tt=function(e){return function(t,c){t(H("loading"));var a=c(),n=a.cards.page,r=a.cards.pageCount,s=a.cards.sortCards;q(e,n,r,s).then((function(e){t({type:"CARDS/SET_CARDS_TOTAL_COUNT",totalCards:e.data.cardsTotalCount}),t({type:"CARDS/SET-CARDS",cards:e.data.cards}),t(H("succeeded"))})).catch((function(){t(H("failed")),console.log("get cards error")}))}},ct=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.cards})),c=t.cards,n=t.cardsTotalCount,r=t.pageCount,s=t.sortCards,o=t.page,i=Object(l.g)().packID,d=Object(P.c)((function(e){return e.auth.isLoggedIn})),j=Object(P.c)((function(e){return e.auth.userData._id})),O=Object(P.c)((function(e){return e.packs.userId}));Object(a.useEffect)((function(){e(tt(i))}),[e,i]);for(var p=Object(a.useState)(!1),h=Object(ue.a)(p,2),f=h[0],m=h[1],g=Object(a.useCallback)((function(t,c){e(function(e,t){return function(c){c(H("loading")),G(e).then((function(){c(H("succeeded")),c(tt(t)),console.log("card deleted successfully")})).catch((function(){c(H("failed")),console.log("delete card error")}))}}(t,c))}),[e]),C=Object(a.useCallback)((function(t){e(function(e,t){return function(c){c(H("loading")),K(t).then((function(){c(tt(e))})).catch((function(e){var t=e.response?e.response.data.error:e.message+" , error";c(H("failed")),alert(t)}))}}(i,t))}),[e]),v=[],k=Math.ceil(n/r),_=1;_<=k;_++)v.push(_);var w="0grade"===s?Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Ge.a,{onClick:function(){e(Qe("1grade")),e(tt(i))},color:"primary"})}):Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(qe.a,{onClick:function(){e(Qe("0grade")),e(tt(i))},color:"primary"})}),S=c&&c.map((function(e,t){return Object(u.jsx)(Ye,Object(b.a)(Object(b.a)({},e),{},{packId:i,delCard:g,updateCard:C,currentUserId:j}),t)}));return d?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Cards"})}),f&&Object(u.jsx)(Xe,{addNewCard:function(t,c){var a;e((a={cardsPack_id:i,question:t,answer:c},function(e){e(H("loading")),F(a).then((function(){e(tt(a.cardsPack_id)),e(H("succeeded"))})).catch((function(t){var c=t.res?t.res.data.error:"Add card failed: ".concat(t.message,".");e(H("failed")),alert(c)}))}))},closeAddEditCardModal:function(){m(!1)},questionPlaceholder:"question",answerPlaceholder:"answer"}),Object(u.jsxs)("div",{className:ze.a.cardContents,children:[Object(u.jsx)("div",{children:"question"}),Object(u.jsx)("div",{children:"answer"}),Object(u.jsx)("div",{children:w}),Object(u.jsx)("div",{children:"grade"}),Object(u.jsx)("div",{children:"last update"}),Object(u.jsx)("div",{children:j===O?Object(u.jsx)(x,{onClick:function(){m(!0)},children:"add"}):""})]}),S,Object(u.jsx)("div",{className:ze.a.paginator,children:Object(u.jsx)(je.a,{count:k,boundaryCount:1,defaultPage:1,page:o,onChange:function(t,c){return function(t){e(function(e){return{type:"CARDS/SET_CURRENT_PAGE",page:e}}(t)),e(tt(i))}(c)}})})]}):Object(u.jsx)(Q,{})},at=c(101),nt=c.n(at),rt=function(){return Object(u.jsx)("div",{className:nt.a.ldsCircle,children:Object(u.jsx)("div",{})})},st=c(166),ot=c(145),it=c(41),dt=c.n(it),lt=function(){var e=Object(l.g)().packID,t=Object(P.b)(),c=Object(P.c)((function(e){return e.cards.cards})),n=Object(P.c)((function(e){return e.app.status})),r=Object(a.useState)(0),s=Object(ue.a)(r,2),o=s[0],i=s[1],j=Object(a.useState)(!1),b=Object(ue.a)(j,2),O=b[0],p=b[1],h=Object(a.useState)(!1),f=Object(ue.a)(h,2),m=f[0],g=f[1],C=Object(a.useState)(0),v=Object(ue.a)(C,2),k=v[0],_=v[1];Object(a.useEffect)((function(){t(et(1e3)),t(tt(e)),t(et(5))}),[t,e]);return Object(u.jsxs)("div",{children:["loading"===n&&Object(u.jsx)(rt,{}),Object(u.jsx)("div",{className:dt.a.goToPacks,children:Object(u.jsx)(d.b,{to:"/packs",children:"\ud83d\udd19 back to Packs"})}),0===c.length?Object(u.jsx)("div",{children:Object(u.jsx)("span",{children:"There are no cards in this pack..."})}):Object(u.jsx)("div",{children:m?Object(u.jsxs)("div",{className:dt.a.startOver,children:[Object(u.jsx)("div",{className:dt.a.qOver,children:"The questions are over:)"}),Object(u.jsx)(x,{onClick:function(){i(0),g(!1)},children:"Start over"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:dt.a.question,children:["Question: ",c[o].question]}),Object(u.jsx)(x,{onClick:function(){p(!0)},disabled:O,children:"CHECK"}),O&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:dt.a.answer,children:["Answer: ",c[o].answer]}),Object(u.jsx)("div",{className:dt.a.options,children:["no idea","forgot","it took me a while","confused a little","I knew"].map((function(e,t){return Object(u.jsx)(st.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",children:Object(u.jsx)(ot.a,{onClick:function(){_(t+1)},disabled:t+1===k,children:e},t+1)})}))}),Object(u.jsx)(x,{onClick:function(){c.length!==o+1?i(o+1):g(!0),k>0&&t(function(e,t){return function(c){c(H("loading")),B(e,t).then((function(){c(H("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+" , error";c(H("failed")),alert(t)}))}}(c[o]._id,k)),p(!1),_(0)},children:"NEXT"})]})]})})]})},ut="/login",jt="/register",bt="/profile",Ot="/forgot-password",pt="/new-password",ht="/packs",ft="/cards/:packID",mt="/learn/:packID",xt=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/",exact:!0,render:function(){return Object(u.jsx)(l.a,{to:bt})}}),Object(u.jsx)(l.b,{path:ut,render:function(){return Object(u.jsx)(Q,{})}}),Object(u.jsx)(l.b,{path:jt,render:function(){return Object(u.jsx)(re,{})}}),Object(u.jsx)(l.b,{path:Ot,render:function(){return Object(u.jsx)(de,{})}}),Object(u.jsx)(l.b,{path:pt+"/:token?",render:function(){return Object(u.jsx)(oe,{})}}),Object(u.jsx)(l.b,{path:bt,render:function(){return Object(u.jsx)(ae,{})}}),Object(u.jsx)(l.b,{path:ht,render:function(){return Object(u.jsx)(Ve,{})}}),Object(u.jsx)(l.b,{path:ft,render:function(){return Object(u.jsx)(ct,{})}}),Object(u.jsx)(l.b,{path:mt,render:function(){return Object(u.jsx)(lt,{})}}),Object(u.jsx)(l.b,{render:function(){return Object(u.jsx)(j,{})}})]})})},gt=c(167),Ct=function(){var e=Object(P.b)();return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:i.a.wrapper,children:[Object(u.jsx)(d.b,{to:bt,className:i.a.link,activeClassName:i.a.active,children:"Profile"}),Object(u.jsx)(d.b,{to:ht,className:i.a.link,activeClassName:i.a.active,children:"Packs"}),Object(u.jsx)(Ie,{title:"Logout",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(gt.a,{style:{paddingLeft:"50px"},onClick:function(){return e(J)}})})})]})})},vt=function(){var e=Object(P.c)((function(e){return e.app.isInitialized})),t=Object(P.b)();return Object(a.useEffect)((function(){t((function(e){e(H("loading")),T().then((function(t){e(z(!0)),e(W(!0,t.data)),e(H("succeeded"))})).catch((function(){e(H("failed"))})).finally((function(){e(z(!0))}))}))}),[t]),e?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(d.a,{children:[Object(u.jsx)(Ct,{}),Object(u.jsx)(xt,{})]})}):Object(u.jsx)(rt,{})},kt=function(){var e=Object(P.c)((function(e){return e.app.status}));return Object(u.jsxs)("div",{className:"App",children:["loading"===e&&Object(u.jsx)(rt,{}),Object(u.jsx)(vt,{})]})},_t=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,171)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))},wt=c(68),Pt=c(102),St=Object(wt.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED-IN":return Object(b.a)(Object(b.a)({},e),{},{userData:t.userData,isLoggedIn:t.value});case"login/SET-IS-LOGGED-OUT":return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:t.value});case"login/SET-AUTH-ERROR":return Object(b.a)(Object(b.a)({},e),{},{authError:t.errorMessage});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-SIGN-UP":return Object(b.a)(Object(b.a)({},e),{},{isRegistered:t.isRegistered});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case"APP/SET-IS-INITIALIZED":return Object(b.a)(Object(b.a)({},e),{},{isInitialized:t.isInitialized});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"recoverPassword/CHANGE-PASSWORD":return Object(b.a)(Object(b.a)({},e),{},{recoveredPassword:!0});default:return e}},setNewPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setNewPassword/SET-NEW-PASSWORD":return Object(b.a)(Object(b.a)({},e),{},{isNewPassword:!0});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PACKS/SET-PACKS":return Object(b.a)(Object(b.a)({},e),{},{cardPacks:t.data});case"SET-TOTAL-PACKS-COUNT":return Object(b.a)(Object(b.a)({},e),{},{totalPacksCount:t.totalPacks});case"SET-CURRENT-PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.pageNumber});case"PACKS/DEL-PACK":case"PACKS/UPDATE-PACK":return e;case"PACKS/SET-USER-ID":return Object(b.a)(Object(b.a)({},e),{},{userId:t.userId});case"PACKS/SET-MIN-CARDS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{minCardsCount:t.minCardsCount});case"PACKS/SET-MAX-CARDS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{maxCardsCount:t.maxCardsCount});case"PACKS/SET-NAME":return Object(b.a)(Object(b.a)({},e),{},{name:t.name});case"PACKS/SET-SORT":return Object(b.a)(Object(b.a)({},e),{},{sortPacks:t.sortValue});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/SET-CARDS":return Object(b.a)(Object(b.a)({},e),{},{cards:t.cards});case"CARDS/SET_CARDS_TOTAL_COUNT":return Object(b.a)(Object(b.a)({},e),{},{cardsTotalCount:t.totalCards});case"CARDS/SET_CURRENT_PAGE":return Object(b.a)(Object(b.a)({},e),{},{page:t.page});case"CARDS/SET-SORT":return Object(b.a)(Object(b.a)({},e),{},{sortCards:t.sortValue});case"CARDS/SET-PAGE-COUNT":return Object(b.a)(Object(b.a)({},e),{},{pageCount:t.pageCount});default:return e}}}),Nt=Object(wt.c)(St,Object(wt.a)(Pt.a)),yt=Nt;window.store=Nt,s.a.render(Object(u.jsx)(P.a,{store:yt,children:Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(kt,{})})}),document.getElementById("root")),_t()},27:function(e,t,c){e.exports={wrapperModal:"Modal_wrapperModal__1AtsH",modal:"Modal_modal__3ubGQ",buttonBlock:"Modal_buttonBlock__13gFD"}},29:function(e,t,c){e.exports={packContents:"Packs_packContents__1gnB5",packsContainer:"Packs_packsContainer__2tB3f",packsField:"Packs_packsField__3IGWt",sidebar:"Packs_sidebar__13oXD",title:"Packs_title__33T0y",showMyAllPacks:"Packs_showMyAllPacks__3XTT-",filterByCardsCount:"Packs_filterByCardsCount__vvBC4",paginator:"Packs_paginator___tyal",filter:"Packs_filter__JOPGr",activeButton:"Packs_activeButton__1kNsd",search:"Packs_search__1x74N"}},30:function(e,t,c){e.exports={bgr:"styles_bgr__1vz1r",form:"styles_form__28ypd"}},31:function(e,t,c){e.exports={packItem:"Pack_packItem__2ShEZ",packSpecification:"Pack_packSpecification__3N_EC",cardsLink:"Pack_cardsLink__1TPmv"}},39:function(e,t,c){e.exports={cardItem:"Card_cardItem__3qhBa",cardSpecification:"Card_cardSpecification__2ruLa"}},41:function(e,t,c){e.exports={options:"Learn_options__2LoVV",question:"Learn_question__1KJZL",answer:"Learn_answer__xw_L0",qOver:"Learn_qOver__145dG",startOver:"Learn_startOver__3eDw9",goToPacks:"Learn_goToPacks__eFnc1"}},49:function(e,t,c){e.exports={wrapper:"Header_wrapper__1uzhM",link:"Header_link__2eoyP",active:"Header_active__6vvlw"}},66:function(e,t,c){e.exports={superInput:"SuperInputText_superInput__38k4m",errorInput:"SuperInputText_errorInput__2_4_m",error:"SuperInputText_error__14AGh"}},72:function(e,t,c){e.exports={default:"SuperButton_default__2W1BO",red:"SuperButton_red__1HL_2"}},73:function(e,t,c){e.exports={checkbox:"SuperCheckbox_checkbox__eqHiW",spanClassName:"SuperCheckbox_spanClassName__3A4zY"}},74:function(e,t,c){e.exports={authError:"Login_authError__34H0h",free:"Login_free__2qjJ9"}},77:function(e,t,c){e.exports={cloud:"Cloud_cloud__3g1gV",hello:"Cloud_hello__14nDM"}},79:function(e,t,c){e.exports={cardContents:"Cards_cardContents__GpAHE",paginator:"Cards_paginator__jY83L"}}},[[144,1,2]]]);
//# sourceMappingURL=main.9c3922b8.chunk.js.map