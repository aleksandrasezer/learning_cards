(this["webpackJsonpcards-game"]=this["webpackJsonpcards-game"]||[]).push([[0],{100:function(e,t,c){e.exports={ldsCircle:"Loader_ldsCircle__jDpB7"}},115:function(e,t,c){},116:function(e,t,c){},143:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(19),s=c.n(r),o=(c(115),c(116),c(49)),i=c.n(o),d=c(15),l=c(11),u=c(1),j=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:"404"}),Object(u.jsx)("div",{children:"Page not found!"}),Object(u.jsx)("div",{children:"\u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"})]})},b=c(3),p=c(30),O=c.n(p),h=c(47),f=c(72),m=c.n(f),x=function(e){var t=e.red,c=e.className,a=Object(h.a)(e,["red","className"]),n="".concat(t?m.a.red:m.a.default," ").concat(c);return Object(u.jsx)("button",Object(b.a)({className:n},a))},g=c(73),C=c.n(g),v=function(e){e.type;var t=e.onChange,c=e.onChangeChecked,a=e.className,n=(e.spanClassName,e.children),r=Object(h.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(C.a.checkbox," ").concat(a||"");return Object(u.jsxs)("label",{children:[Object(u.jsx)("input",Object(b.a)({type:"checkbox",onChange:function(e){t&&t(e),c&&c(e.currentTarget.checked)},className:s},r)),n&&Object(u.jsx)("span",{className:C.a.spanClassName,children:n})]})},k=c(66),P=c.n(k),_=function(e){e.type;var t=e.onChange,c=e.onChangeText,a=e.onKeyPress,n=e.onEnter,r=e.error,s=e.className,o=e.spanClassName,i=Object(h.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),d="".concat(P.a.error," ").concat(o||""),l="".concat(P.a.superInput," ").concat(r?P.a.errorInput:""," ").concat(s);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",Object(b.a)({type:"text",onChange:function(e){t&&t(e),c&&c(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),n&&"Enter"===e.key&&n()},className:l},i)),r&&Object(u.jsx)("span",{className:d,children:r})]})},w=c(5),S=c(89),N=c.n(S).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),y=function(e,t,c){return N.post("auth/login",{email:e,password:t,rememberMe:c})},E=function(){return N.delete("auth/me")},T=function(){return N.post("auth/me")},A=function(e,t){return N.post("/auth/register",{email:e,password:t})},I=function(e,t){return N.post("/auth/forgot",{email:e,message:t})},D=function(e,t){return N.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},R=function(e,t,c,a,n,r,s){return N.get("/cards/pack?pageCount=".concat(e,"&sortPacks=").concat(s,"&packName=").concat(c,"&page=").concat(t,"&min=").concat(a,"&max=").concat(n,"&user_id=").concat(r))},L=function(e){return N.post("/cards/pack",{cardsPack:e})},M=function(e){return N.delete("/cards/pack?id=".concat(e))},U=function(e,t){return N.put("/cards/pack",{cardsPack:{_id:e,name:t}})},q=function(e,t,c,a){return N.get("/cards/card",{params:{cardsPack_id:e,pageCount:c,page:t,sortCards:a}})},F=function(e){return N.post("/cards/card",{card:e})},G=function(e){return N.delete("/cards/card?id=".concat(e))},K=function(e){return N.put("cards/card",{card:{_id:e._id,question:e.question,answer:e.answer}})},B=function(e,t){return N.put("/cards/grade",{grade:t,card_id:e})},H={status:"idle",isInitialized:!1},V=function(e){return{type:"APP/SET-STATUS",status:e}},z=function(e){return{type:"APP/SET-IS-INITIALIZED",isInitialized:e}},Z={userData:{avatar:"",created:"",email:"",isAdmin:!1,name:"",publicCardPacksCount:0,rememberMe:!1,token:"",tokenDeathTime:0,updated:"",verified:!1,__v:0,_id:""}||null,isLoggedIn:!1,authError:""},W=function(e,t){return{type:"login/SET-IS-LOGGED-IN",value:e,userData:t}},J=function(e){try{E().then((function(){e({type:"login/SET-IS-LOGGED-OUT",value:!1})}))}catch(t){}},X=c(38),Y=c(74),$=c.n(Y),Q=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.auth.isLoggedIn})),c=Object(w.c)((function(e){return e.auth.authError})),a=Object(X.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password||(t.password="Password is required"),t},onSubmit:function(t){e(function(e){return function(t){t(V("loading")),y(e.email,e.password,e.rememberMe).then((function(e){t(W(!0,e.data)),t(V("succeeded"))})).catch((function(e){var c=e.response?e.response.data.error:e.message;t({type:"login/SET-AUTH-ERROR",errorMessage:c}),t(V("failed"))}))}}(t)),a.resetForm()}});return t?Object(u.jsx)(l.a,{to:"/profile"}):Object(u.jsxs)("div",{className:O.a.bgr,children:[Object(u.jsx)("h2",{children:" Login "}),Object(u.jsxs)("form",{onSubmit:a.handleSubmit,className:O.a.form,children:[Object(u.jsx)(_,Object(b.a)({type:"email",placeholder:"E-mail",error:a.touched.email?a.errors.email:null},a.getFieldProps("email"))),Object(u.jsx)(_,Object(b.a)({type:"password",placeholder:"Password",error:a.touched.password?a.errors.password:null},a.getFieldProps("password"))),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{children:[Object(u.jsx)(v,Object(b.a)({},a.getFieldProps("rememberMe"))),"Remember me"]}),Object(u.jsx)("div",{className:$.a.authError,children:c}),Object(u.jsx)(x,{type:"submit",children:"Login"})]}),Object(u.jsx)(d.b,{to:"/forgot-password",children:"Forgot Password"})," ",Object(u.jsx)("br",{}),Object(u.jsx)(d.b,{to:"/register",children:"Sign Up"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:$.a.free,children:["To log in for test use ",Object(u.jsx)("br",{}),"common test account credentials: ",Object(u.jsx)("br",{}),"Email: ",Object(u.jsx)("span",{style:{color:"black"},children:"eto4ka@gmail.com"})," ",Object(u.jsx)("br",{}),"Password: ",Object(u.jsx)("span",{style:{color:"black"},children:"1234qwerty"})]})]})},ee=function(){var e=Object(w.c)((function(e){return e.auth.isLoggedIn})),t=Object(w.c)((function(e){var t;return null===(t=e.auth.userData)||void 0===t?void 0:t.name})),c=Object(w.c)((function(e){var t;return null===(t=e.auth.userData)||void 0===t?void 0:t.publicCardPacksCount})),a=null!==t&&void 0!==t?t:"Stranger";return e?Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("h2",{children:["Hello, ",a,"!"]}),Object(u.jsxs)("h3",{children:["You have ",c," packs"]})]})}):Object(u.jsx)(Q,{})},te={isRegistered:!1},ce=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.register.isRegistered})),c=Object(X.a)({initialValues:{email:"",password:"",confirmedPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address."):t.email="Email is required",e.password?e.password.length<8&&(t.password="Password must be at least 8 symbols"):t.password="Password is required",e.password&&!e.confirmedPassword?t.confirmedPassword="Confirm your password":e.password!==e.confirmedPassword&&(t.confirmedPassword="You entered two different passwords."),t},onSubmit:function(t){t.password===t.confirmedPassword&&(e(function(e){return function(t){t(V("loading")),A(e.email,e.password).then((function(){t({type:"register/SET-SIGN-UP",isRegistered:!0}),t(V("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))}}(t)),c.resetForm())}});return t?Object(u.jsx)(l.a,{to:"./login"}):Object(u.jsxs)("div",{className:O.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Sign In"}),Object(u.jsxs)("form",{onSubmit:c.handleSubmit,className:O.a.form,children:[Object(u.jsx)(_,Object(b.a)({type:"email",placeholder:"Email",error:c.touched.email?c.errors.email:null},c.getFieldProps("email"))),Object(u.jsx)(_,Object(b.a)({type:"password",placeholder:"Password",error:c.touched.password?c.errors.password:null},c.getFieldProps("password"))),Object(u.jsx)(_,Object(b.a)({type:"password",placeholder:"Confirm your password",error:c.touched.confirmedPassword?c.errors.confirmedPassword:null},c.getFieldProps("confirmedPassword"))),Object(u.jsxs)("div",{children:[Object(u.jsx)(d.b,{to:"/login",children:Object(u.jsx)(x,{children:" Cancel "})}),Object(u.jsx)(x,{type:"submit",children:" Register "})]})]})]})},ae={isNewPassword:!1},ne=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.setNewPassword.isNewPassword})),c=Object(l.g)().token,a=Object(X.a)({initialValues:{password:"",confirmPassword:""},validate:function(e){var t={};return e.password?e.password.length<8&&(t.password="Password must be at least 8 symbols"):t.password="Password is required",e.password&&!e.confirmPassword?t.confirmPassword="Confirm your password":e.password!==e.confirmPassword&&(t.confirmPassword="You entered two different passwords."),t},onSubmit:function(t){var n,r;t.password===t.confirmPassword&&(e((n=t.confirmPassword,r=c,function(e){e(V("loading")),D(n,r).then((function(){e({type:"setNewPassword/SET-NEW-PASSWORD"}),e(V("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))})),a.resetForm())}});return t?Object(u.jsx)(l.a,{to:"/login"}):Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:O.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Set new password"}),Object(u.jsxs)("form",{onSubmit:a.handleSubmit,className:O.a.form,children:[Object(u.jsx)(_,Object(b.a)({type:"password",placeholder:"New password",error:a.touched.password?a.errors.password:null},a.getFieldProps("password"))),Object(u.jsx)(_,Object(b.a)({type:"password",placeholder:"Confirm your new password",error:a.touched.confirmPassword?a.errors.confirmPassword:null},a.getFieldProps("confirmPassword"))),Object(u.jsx)(x,{type:"submit",children:"Set new password"})]})]})})},re={recoveredPassword:!1},se=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.forgotPassword.recoveredPassword})),c=Object(X.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?e.email.length<11&&(t.email="Email should be more 10 symbols"):t.email="Email is required",t},onSubmit:function(t){e(function(e,t){return function(c){c(V("loading")),I(e,t).then((function(){c({type:"recoverPassword/CHANGE-PASSWORD"}),c(V("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message;alert(t)}))}}(t.email,"<div style=\"background-color: lime; padding: 15px\">\n            password recovery link:\t<a href='https://Peleka.github.io/cards-game/#/new-password/$token$'>link</a>\n            </div>"))}});return Object(u.jsxs)("div",{className:O.a.bgr,children:[Object(u.jsx)("h1",{children:"it-incubator"}),Object(u.jsx)("h2",{children:"Forgot your password?"}),t?Object(u.jsx)(oe,{email:c.values.email}):Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:c.handleSubmit,children:[Object(u.jsx)(_,Object(b.a)({type:"email",placeholder:"Email"},c.getFieldProps("email"))),Object(u.jsx)(x,{type:"submit",children:"Send instructions"})]})})]})},oe=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"Check your Email"}),Object(u.jsxs)("span",{children:["click the link in the message in your email ",e.email]})]})},ie=c(10),de=c(168),le={cardPacks:null,maxCardsCount:6,minCardsCount:0,pageCount:8,packId:"",name:"",totalPacksCount:0,pageSize:10,currentPage:1,userId:"",sortPacks:"0updated"},ue=function(e){return{type:"PACKS/SET-USER-ID",userId:e}},je=function(e){return{type:"PACKS/SET-NAME",name:e}},be=function(e){return{type:"PACKS/SET-SORT",sortValue:e}},pe=function(){return function(e,t){e(V("loading"));var c=t(),a=c.packs.currentPage,n=c.packs.name,r=c.packs.minCardsCount,s=c.packs.maxCardsCount,o=c.packs.userId,i=c.packs.pageCount,d=c.packs.sortPacks;R(i,a,n,r,s,o,d).then((function(t){e({type:"SET-TOTAL-PACKS-COUNT",totalPacks:t.data.cardPacksTotalCount}),e({type:"PACKS/SET-PACKS",data:t.data.cardPacks}),e(V("succeeded"))})).catch((function(){e(V("failed")),console.log("get packs error")}))}},Oe=c(31),he=c.n(Oe),fe=c(98),me=c.n(fe),xe=c(60),ge=c.n(xe),Ce=c(67),ve=c(27),ke=c.n(ve),Pe=function(e){var t,c=Object(a.useState)(null!==(t=e.titlePack)&&void 0!==t?t:""),n=Object(ie.a)(c,2),r=n[0],s=n[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:ke.a.wrapperModal,onClick:e.closeAddEditPackModal,children:Object(u.jsxs)("div",{className:ke.a.modal,onClick:function(e){return e.stopPropagation()},children:[Object(u.jsx)("h3",{children:"Enter new pack name"}),Object(u.jsxs)("form",{children:[Object(u.jsx)(_,{type:"text",placeholder:e.placeholder,value:r,onChange:function(e){s(e.currentTarget.value)}}),Object(u.jsxs)("div",{className:ke.a.buttonBlock,children:[Object(u.jsx)(x,{type:"submit",onClick:function(){e.addNewPack(r),e.closeAddEditPackModal()},children:"Ok"}),Object(u.jsx)(x,{onClick:function(){e.closeAddEditPackModal()},children:"Cancel"})]})]})]})})})},_e=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:ke.a.wrapperModal,onClick:e.closeDeleteModal,children:Object(u.jsxs)("div",{className:ke.a.modal,onClick:function(e){return e.stopPropagation()},children:[Object(u.jsx)("h3",{style:{color:"darkred"},children:e.title}),Object(u.jsx)("form",{children:Object(u.jsxs)("div",{className:ke.a.buttonBlock,children:[Object(u.jsx)(x,{type:"submit",onClick:function(){e.deleteItem(),e.closeDeleteModal()},children:"Ok"}),Object(u.jsx)(x,{onClick:function(){e.closeDeleteModal()},children:"Cancel"})]})})]})})})},we=c(97),Se=c.n(we),Ne=c(21),ye=c(167),Ee=Object(Ne.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:13}}}))(ye.a),Te=n.a.memo((function(e){var t=new Date(e.updated).toLocaleDateString(["ban","id"]),c=Object(a.useState)(!1),n=Object(ie.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(ie.a)(o,2),l=i[0],j=i[1];return Object(u.jsxs)("div",{className:he.a.packItem,children:[Object(u.jsx)("div",{className:he.a.packSpecification,children:e.user_name}),Object(u.jsx)("div",{className:he.a.packSpecification,children:e.name}),Object(u.jsx)("div",{className:he.a.packSpecification,children:e.cardsCount}),Object(u.jsx)("div",{className:he.a.packSpecification,children:t}),Object(u.jsx)("div",{className:he.a.packSpecification,children:Object(u.jsx)(d.b,{to:"/cards/".concat(e._id),className:he.a.cardsLink,children:"cards"})}),Object(u.jsx)("div",{className:he.a.packSpecification,children:Object(u.jsx)(d.b,{to:"/learn/".concat(e._id),children:Object(u.jsx)(Ee,{title:"Learn",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Se.a,{})})})})}),Object(u.jsx)("div",{className:he.a.packSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)(Ee,{title:"Edit pack",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(ge.a,{onClick:function(){s(!0)},style:{color:Ce.a[500]}})})}):""}),Object(u.jsx)("div",{className:he.a.packSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)(Ee,{title:"Delete pack",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(me.a,{onClick:function(){j(!0)},color:"secondary"})})}):""}),r&&Object(u.jsx)(Pe,{closeAddEditPackModal:function(){s(!1)},addNewPack:function(t){e.updatePack(e._id,t)},titlePack:e.name}),l&&Object(u.jsx)(_e,{closeDeleteModal:function(){j(!1)},deleteItem:function(){e.delPack(e._id)},title:"Are you sure you want to delete pack '".concat(e.name,"'?")})]})})),Ae=c(29),Ie=c.n(Ae),De=c(169),Re=c(62),Le=c.n(Re),Me=c(61),Ue=c.n(Me),qe=c(99),Fe=c.n(qe),Ge=n.a.memo((function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.packs})),c=t.cardPacks,n=t.totalPacksCount,r=t.pageSize,s=t.currentPage,o=t.minCardsCount,i=t.maxCardsCount,d=t.sortPacks,l=t.userId,j=Object(w.c)((function(e){return e.auth.isLoggedIn})),p=Object(w.c)((function(e){return e.auth.userData._id})),O=Object(a.useState)(""),h=Object(ie.a)(O,2),f=h[0],m=h[1];Object(a.useEffect)((function(){e(pe())}),[e,o,i]);for(var g=Object(a.useState)(!1),C=Object(ie.a)(g,2),v=C[0],k=C[1],P=Object(a.useCallback)((function(t){e(function(e){return function(t){t(V("loading")),M(e).then((function(){t(V("succeeded")),t(pe()),console.log("pack deleted successfully")})).catch((function(){t(V("failed")),console.log("delete pack error")}))}}(t))}),[e]),S=Object(a.useCallback)((function(t,c){e(function(e,t){return function(c){c(V("loading")),U(e,t).then((function(){c(pe()),console.log("pack updated successfully"),c(V("succeeded"))})).catch((function(){c(V("failed")),console.log("update pack error")}))}}(t,c))}),[e]),N="1updated"===d?Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Ue.a,{onClick:function(){e(be("0updated")),e(pe())},color:"primary"})}):Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Le.a,{onClick:function(){e(be("1updated")),e(pe())},color:"primary"})}),y=Object(a.useState)(l===p),E=Object(ie.a)(y,2),T=E[0],A=E[1],I=T?"".concat(Ie.a.activeButton):"",D=T?"":"".concat(Ie.a.activeButton),R=function(){e(je(f)),e(pe()),m(""),e(je(""))},q=[],F=Math.ceil(n/r),G=1;G<=F;G++)q.push(G);var K=c&&c.map((function(e,t){return Object(u.jsx)(Te,Object(b.a)(Object(b.a)({},e),{},{delPack:P,updatePack:S,currentUserId:p}),t)}));return j?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:Ie.a.title,children:Object(u.jsx)("h1",{children:"Packs"})}),Object(u.jsxs)("div",{className:Ie.a.packsContainer,children:[Object(u.jsxs)("div",{className:Ie.a.packsField,children:[Object(u.jsxs)("div",{className:Ie.a.packContents,children:[Object(u.jsx)("div",{children:"username"}),Object(u.jsx)("div",{children:"name"}),Object(u.jsx)("div",{children:"count"}),Object(u.jsx)("div",{children:N}),Object(u.jsx)("div",{children:"update"}),Object(u.jsx)("div",{children:Object(u.jsx)(x,{onClick:function(){k(!0)},children:"add"})})]}),Object(u.jsx)("div",{children:K})]}),v&&Object(u.jsx)(Pe,{closeAddEditPackModal:function(){k(!1)},addNewPack:function(t){var c;e((c={name:t},function(e){e(V("loading")),L(c).then((function(){e(pe()),console.log("pack added successfully"),e(V("succeeded"))})).catch((function(){e(V("failed")),console.log("add pack error")}))}))},placeholder:"new pack name"}),Object(u.jsxs)("div",{className:Ie.a.sidebar,children:[Object(u.jsxs)("div",{className:Ie.a.showMyAllPacks,children:[Object(u.jsxs)("span",{className:I,children:[Object(u.jsx)(x,{onClick:function(){e(ue(p)),e(pe()),A(!0)},children:" my packs "})," "]}),Object(u.jsxs)("span",{className:D,children:[Object(u.jsx)(x,{onClick:function(){e(ue("")),e(pe()),A(!1)},children:" all packs "})," "]})]}),Object(u.jsx)("div",{className:Ie.a.filterByCardsCount,children:Object(u.jsx)(De.a,{style:{margin:"0",padding:"0"},value:[o,i],onChangeCommitted:function(t,c){c instanceof Array&&(e(function(e){return{type:"PACKS/SET-MIN-CARDS_COUNT",minCardsCount:e}}(c[0])),e(function(e){return{type:"PACKS/SET-MAX-CARDS_COUNT",maxCardsCount:e}}(c[1])))},valueLabelDisplay:"auto","aria-labelledby":"range-slider",name:"cards count",min:0,max:20})}),Object(u.jsxs)("div",{className:Ie.a.search,children:[Object(u.jsx)(_,{onChangeText:function(e){return m(e)},onEnter:R,placeholder:"search packs",value:f}),Object(u.jsx)(Fe.a,{onClick:R})]})]})]}),Object(u.jsx)("div",{className:Ie.a.paginator,children:Object(u.jsx)(de.a,{count:F,boundaryCount:1,defaultPage:1,page:s,onChange:function(t,c){return function(t){e({type:"SET-CURRENT-PAGE",pageNumber:t}),e(pe())}(c)}})})]}):Object(u.jsx)(Q,{})})),Ke=c(78),Be=c.n(Ke),He=c(39),Ve=c.n(He),ze=c(164),Ze=function(e){var t,c,n=Object(a.useState)(null!==(t=e.questionValue)&&void 0!==t?t:""),r=Object(ie.a)(n,2),s=r[0],o=r[1],i=Object(a.useState)(null!==(c=e.answerValue)&&void 0!==c?c:""),d=Object(ie.a)(i,2),l=d[0],j=d[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:ke.a.wrapperModal,onClick:e.closeAddEditCardModal,children:Object(u.jsxs)("div",{className:ke.a.modal,onClick:function(e){return e.stopPropagation()},children:[Object(u.jsx)("h3",{children:e.title}),Object(u.jsxs)("form",{children:[Object(u.jsx)(_,{type:"text",placeholder:e.questionPlaceholder,value:s,onChange:function(e){o(e.currentTarget.value)}}),Object(u.jsx)(_,{type:"text",placeholder:e.answerPlaceholder,value:l,onChange:function(e){j(e.currentTarget.value)}}),Object(u.jsxs)("div",{className:ke.a.buttonBlock,children:[Object(u.jsx)(x,{type:"submit",onClick:function(){e.addNewCard(s,l),e.closeAddEditCardModal()},children:"Ok"}),Object(u.jsx)(x,{onClick:function(){e.closeAddEditCardModal()},children:"Cancel"})]})]})]})})})},We=function(e){var t=new Date(e.updated).toLocaleDateString(["ban","id"]),c=Object(a.useState)(!1),n=Object(ie.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(ie.a)(o,2),d=i[0],l=i[1];return Object(u.jsxs)("div",{className:Ve.a.cardItem,children:[Object(u.jsx)("div",{className:Ve.a.cardSpecification,children:e.question}),Object(u.jsx)("div",{className:Ve.a.cardSpecification,children:e.answer}),Object(u.jsx)("div",{className:Ve.a.cardSpecification,children:e.grade}),Object(u.jsx)("div",{className:Ve.a.cardSpecification,children:t}),Object(u.jsx)("div",{className:Ve.a.cardSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)(Ee,{title:"Edit card",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(ge.a,{onClick:function(){s(!0)},style:{color:Ce.a[500]}})})}):""}),Object(u.jsx)("div",{className:Ve.a.cardSpecification,children:e.user_id===e.currentUserId?Object(u.jsx)(Ee,{title:"Delete card",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(ze.a,{onClick:function(){l(!0)},color:"secondary"})})}):""}),r&&Object(u.jsx)(Ze,{addNewCard:function(t,c){return e.updateCard({_id:e._id,question:t,answer:c})},closeAddEditCardModal:function(){s(!1)},title:"Edit your card",questionValue:e.question,answerValue:e.answer}),d&&Object(u.jsx)(_e,{closeDeleteModal:function(){l(!1)},deleteItem:function(){return e._id&&e.delCard(e._id,e.packId)},title:"Are you sure you want to delete card '".concat(e.question,"'?")})]})},Je={cards:[],packUserId:"",page:1,pageCount:5,cardsTotalCount:0,minGrade:0,maxGrade:6,sortCards:"0grade"},Xe=function(e){return{type:"CARDS/SET-SORT",sortValue:e}},Ye=function(e){return{type:"CARDS/SET-PAGE-COUNT",pageCount:e}},$e=function(e){return function(t,c){t(V("loading"));var a=c(),n=a.cards.page,r=a.cards.pageCount,s=a.cards.sortCards;q(e,n,r,s).then((function(e){t({type:"CARDS/SET_CARDS_TOTAL_COUNT",totalCards:e.data.cardsTotalCount}),t({type:"CARDS/SET-CARDS",cards:e.data.cards}),t(V("succeeded"))})).catch((function(){t(V("failed")),console.log("get cards error")}))}},Qe=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.cards})),c=t.cards,n=t.cardsTotalCount,r=t.pageCount,s=t.sortCards,o=t.page,i=Object(l.g)().packID,d=Object(w.c)((function(e){return e.auth.isLoggedIn})),j=Object(w.c)((function(e){return e.auth.userData._id})),p=Object(w.c)((function(e){return e.packs.userId}));Object(a.useEffect)((function(){e($e(i))}),[e,i]);for(var O=Object(a.useState)(!1),h=Object(ie.a)(O,2),f=h[0],m=h[1],g=Object(a.useCallback)((function(t,c){e(function(e,t){return function(c){c(V("loading")),G(e).then((function(){c(V("succeeded")),c($e(t)),console.log("card deleted successfully")})).catch((function(){c(V("failed")),console.log("delete card error")}))}}(t,c))}),[e]),C=Object(a.useCallback)((function(t){e(function(e,t){return function(c){c(V("loading")),K(t).then((function(){c($e(e))})).catch((function(e){var t=e.response?e.response.data.error:e.message+" , error";c(V("failed")),alert(t)}))}}(i,t))}),[e]),v=[],k=Math.ceil(n/r),P=1;P<=k;P++)v.push(P);var _="0grade"===s?Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Ue.a,{onClick:function(){e(Xe("1grade")),e($e(i))},color:"primary"})}):Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(Le.a,{onClick:function(){e(Xe("0grade")),e($e(i))},color:"primary"})}),S=c&&c.map((function(e,t){return Object(u.jsx)(We,Object(b.a)(Object(b.a)({},e),{},{packId:i,delCard:g,updateCard:C,currentUserId:j}),t)}));return d?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Cards"})}),f&&Object(u.jsx)(Ze,{addNewCard:function(t,c){var a;e((a={cardsPack_id:i,question:t,answer:c},function(e){e(V("loading")),F(a).then((function(){e($e(a.cardsPack_id)),e(V("succeeded"))})).catch((function(t){var c=t.res?t.res.data.error:"Add card failed: ".concat(t.message,".");e(V("failed")),alert(c)}))}))},closeAddEditCardModal:function(){m(!1)},questionPlaceholder:"question",answerPlaceholder:"answer"}),Object(u.jsxs)("div",{className:Be.a.cardContents,children:[Object(u.jsx)("div",{children:"question"}),Object(u.jsx)("div",{children:"answer"}),Object(u.jsx)("div",{children:_}),Object(u.jsx)("div",{children:"grade"}),Object(u.jsx)("div",{children:"last update"}),Object(u.jsx)("div",{children:j===p?Object(u.jsx)(x,{onClick:function(){m(!0)},children:"add"}):""})]}),S,Object(u.jsx)("div",{className:Be.a.paginator,children:Object(u.jsx)(de.a,{count:k,boundaryCount:1,defaultPage:1,page:o,onChange:function(t,c){return function(t){e(function(e){return{type:"CARDS/SET_CURRENT_PAGE",page:e}}(t)),e($e(i))}(c)}})})]}):Object(u.jsx)(Q,{})},et=c(100),tt=c.n(et),ct=function(){return Object(u.jsx)("div",{className:tt.a.ldsCircle,children:Object(u.jsx)("div",{})})},at=c(165),nt=c(144),rt=c(41),st=c.n(rt),ot=function(){var e=Object(l.g)().packID,t=Object(w.b)(),c=Object(w.c)((function(e){return e.cards.cards})),n=Object(w.c)((function(e){return e.app.status})),r=Object(a.useState)(0),s=Object(ie.a)(r,2),o=s[0],i=s[1],j=Object(a.useState)(!1),b=Object(ie.a)(j,2),p=b[0],O=b[1],h=Object(a.useState)(!1),f=Object(ie.a)(h,2),m=f[0],g=f[1],C=Object(a.useState)(0),v=Object(ie.a)(C,2),k=v[0],P=v[1];Object(a.useEffect)((function(){t(Ye(1e3)),t($e(e)),t(Ye(5))}),[t,e]);return Object(u.jsxs)("div",{children:["loading"===n&&Object(u.jsx)(ct,{}),Object(u.jsx)("div",{className:st.a.goToPacks,children:Object(u.jsx)(d.b,{to:"/packs",children:"\ud83d\udd19 back to Packs"})}),0===c.length?Object(u.jsx)("div",{children:Object(u.jsx)("span",{children:"There are no cards in this pack..."})}):Object(u.jsx)("div",{children:m?Object(u.jsxs)("div",{className:st.a.startOver,children:[Object(u.jsx)("div",{className:st.a.qOver,children:"The questions are over:)"}),Object(u.jsx)(x,{onClick:function(){i(0),g(!1)},children:"Start over"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:st.a.question,children:["Question: ",c[o].question]}),Object(u.jsx)(x,{onClick:function(){O(!0)},disabled:p,children:"CHECK"}),p&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:st.a.answer,children:["Answer: ",c[o].answer]}),Object(u.jsx)("div",{className:st.a.options,children:["no idea","forgot","it took me a while","confused a little","I knew"].map((function(e,t){return Object(u.jsx)(at.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",children:Object(u.jsx)(nt.a,{onClick:function(){P(t+1)},disabled:t+1===k,children:e},t+1)})}))}),Object(u.jsx)(x,{onClick:function(){c.length!==o+1?i(o+1):g(!0),k>0&&t(function(e,t){return function(c){c(V("loading")),B(e,t).then((function(){c(V("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+" , error";c(V("failed")),alert(t)}))}}(c[o]._id,k)),O(!1),P(0)},children:"NEXT"})]})]})})]})},it="/login",dt="/register",lt="/profile",ut="/forgot-password",jt="/new-password",bt="/packs",pt="/cards/:packID",Ot="/learn/:packID",ht=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/",exact:!0,render:function(){return Object(u.jsx)(l.a,{to:lt})}}),Object(u.jsx)(l.b,{path:it,render:function(){return Object(u.jsx)(Q,{})}}),Object(u.jsx)(l.b,{path:dt,render:function(){return Object(u.jsx)(ce,{})}}),Object(u.jsx)(l.b,{path:ut,render:function(){return Object(u.jsx)(se,{})}}),Object(u.jsx)(l.b,{path:jt+"/:token?",render:function(){return Object(u.jsx)(ne,{})}}),Object(u.jsx)(l.b,{path:lt,render:function(){return Object(u.jsx)(ee,{})}}),Object(u.jsx)(l.b,{path:bt,render:function(){return Object(u.jsx)(Ge,{})}}),Object(u.jsx)(l.b,{path:pt,render:function(){return Object(u.jsx)(Qe,{})}}),Object(u.jsx)(l.b,{path:Ot,render:function(){return Object(u.jsx)(ot,{})}}),Object(u.jsx)(l.b,{render:function(){return Object(u.jsx)(j,{})}})]})})},ft=c(166),mt=function(){var e=Object(w.b)();return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:i.a.wrapper,children:[Object(u.jsx)(d.b,{to:lt,className:i.a.link,activeClassName:i.a.active,children:"Profile"}),Object(u.jsx)(d.b,{to:bt,className:i.a.link,activeClassName:i.a.active,children:"Packs"}),Object(u.jsx)(Ee,{title:"Logout",children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:Object(u.jsx)(ft.a,{style:{paddingLeft:"50px"},onClick:function(){return e(J)}})})})]})})},xt=function(){var e=Object(w.c)((function(e){return e.app.isInitialized})),t=Object(w.b)();return Object(a.useEffect)((function(){t((function(e){e(V("loading")),T().then((function(t){e(z(!0)),e(W(!0,t.data)),e(V("succeeded"))})).catch((function(){e(V("failed"))})).finally((function(){e(z(!0))}))}))}),[t]),e?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(d.a,{children:[Object(u.jsx)(mt,{}),Object(u.jsx)(ht,{})]})}):Object(u.jsx)(ct,{})},gt=function(){var e=Object(w.c)((function(e){return e.app.status}));return Object(u.jsxs)("div",{className:"App",children:["loading"===e&&Object(u.jsx)(ct,{}),Object(u.jsx)(xt,{})]})},Ct=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,170)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))},vt=c(68),kt=c(101),Pt=Object(vt.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED-IN":return Object(b.a)(Object(b.a)({},e),{},{userData:t.userData,isLoggedIn:t.value});case"login/SET-IS-LOGGED-OUT":return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:t.value});case"login/SET-AUTH-ERROR":return Object(b.a)(Object(b.a)({},e),{},{authError:t.errorMessage});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-SIGN-UP":return Object(b.a)(Object(b.a)({},e),{},{isRegistered:t.isRegistered});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case"APP/SET-IS-INITIALIZED":return Object(b.a)(Object(b.a)({},e),{},{isInitialized:t.isInitialized});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"recoverPassword/CHANGE-PASSWORD":return Object(b.a)(Object(b.a)({},e),{},{recoveredPassword:!0});default:return e}},setNewPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setNewPassword/SET-NEW-PASSWORD":return Object(b.a)(Object(b.a)({},e),{},{isNewPassword:!0});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PACKS/SET-PACKS":return Object(b.a)(Object(b.a)({},e),{},{cardPacks:t.data});case"SET-TOTAL-PACKS-COUNT":return Object(b.a)(Object(b.a)({},e),{},{totalPacksCount:t.totalPacks});case"SET-CURRENT-PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.pageNumber});case"PACKS/DEL-PACK":case"PACKS/UPDATE-PACK":return e;case"PACKS/SET-USER-ID":return Object(b.a)(Object(b.a)({},e),{},{userId:t.userId});case"PACKS/SET-MIN-CARDS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{minCardsCount:t.minCardsCount});case"PACKS/SET-MAX-CARDS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{maxCardsCount:t.maxCardsCount});case"PACKS/SET-NAME":return Object(b.a)(Object(b.a)({},e),{},{name:t.name});case"PACKS/SET-SORT":return Object(b.a)(Object(b.a)({},e),{},{sortPacks:t.sortValue});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/SET-CARDS":return Object(b.a)(Object(b.a)({},e),{},{cards:t.cards});case"CARDS/SET_CARDS_TOTAL_COUNT":return Object(b.a)(Object(b.a)({},e),{},{cardsTotalCount:t.totalCards});case"CARDS/SET_CURRENT_PAGE":return Object(b.a)(Object(b.a)({},e),{},{page:t.page});case"CARDS/SET-SORT":return Object(b.a)(Object(b.a)({},e),{},{sortCards:t.sortValue});case"CARDS/SET-PAGE-COUNT":return Object(b.a)(Object(b.a)({},e),{},{pageCount:t.pageCount});default:return e}}}),_t=Object(vt.c)(Pt,Object(vt.a)(kt.a)),wt=_t;window.store=_t,s.a.render(Object(u.jsx)(w.a,{store:wt,children:Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(gt,{})})}),document.getElementById("root")),Ct()},27:function(e,t,c){e.exports={wrapperModal:"Modal_wrapperModal__1AtsH",modal:"Modal_modal__3ubGQ",buttonBlock:"Modal_buttonBlock__13gFD"}},29:function(e,t,c){e.exports={packContents:"Packs_packContents__1gnB5",packsContainer:"Packs_packsContainer__2tB3f",packsField:"Packs_packsField__3IGWt",sidebar:"Packs_sidebar__13oXD",title:"Packs_title__33T0y",showMyAllPacks:"Packs_showMyAllPacks__3XTT-",filterByCardsCount:"Packs_filterByCardsCount__vvBC4",paginator:"Packs_paginator___tyal",filter:"Packs_filter__JOPGr",activeButton:"Packs_activeButton__1kNsd",search:"Packs_search__1x74N"}},30:function(e,t,c){e.exports={bgr:"styles_bgr__1vz1r",form:"styles_form__28ypd"}},31:function(e,t,c){e.exports={packItem:"Pack_packItem__2ShEZ",packSpecification:"Pack_packSpecification__3N_EC",cardsLink:"Pack_cardsLink__1TPmv"}},39:function(e,t,c){e.exports={cardItem:"Card_cardItem__3qhBa",cardSpecification:"Card_cardSpecification__2ruLa"}},41:function(e,t,c){e.exports={options:"Learn_options__2LoVV",question:"Learn_question__1KJZL",answer:"Learn_answer__xw_L0",qOver:"Learn_qOver__145dG",startOver:"Learn_startOver__3eDw9",goToPacks:"Learn_goToPacks__eFnc1"}},49:function(e,t,c){e.exports={wrapper:"Header_wrapper__1uzhM",link:"Header_link__2eoyP",active:"Header_active__6vvlw"}},66:function(e,t,c){e.exports={superInput:"SuperInputText_superInput__38k4m",errorInput:"SuperInputText_errorInput__2_4_m",error:"SuperInputText_error__14AGh"}},72:function(e,t,c){e.exports={default:"SuperButton_default__2W1BO",red:"SuperButton_red__1HL_2"}},73:function(e,t,c){e.exports={checkbox:"SuperCheckbox_checkbox__eqHiW",spanClassName:"SuperCheckbox_spanClassName__3A4zY"}},74:function(e,t,c){e.exports={authError:"Login_authError__34H0h",free:"Login_free__2qjJ9"}},78:function(e,t,c){e.exports={cardContents:"Cards_cardContents__GpAHE",paginator:"Cards_paginator__jY83L"}}},[[143,1,2]]]);
//# sourceMappingURL=main.0ae1da37.chunk.js.map